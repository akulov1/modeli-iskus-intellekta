@prefix :     <http://example.org/ontologies/planirovanie-pereezda#> .
@prefix rdf:  <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl:  <http://www.w3.org/2002/07/owl#> .
@prefix xsd:  <http://www.w3.org/2001/XMLSchema#> .

#################################################################
# Онтология (минимальный набор под рекомендательную систему)
#################################################################

:ОнтологияПереезда a owl:Ontology ;
  rdfs:label "Онтология планирования переезда (минимальная, усиленная по датам)"@ru ;
  rdfs:comment "Версия под Flask-рекомендательную систему: город отправления по умолчанию — Краснодар (в логике приложения). Стоимость зависит от количества предметов. Даты зависят от количества предметов, хрупкости и зависимостей задач (critical path). Индивиды не оставлены без свойств."@ru .

#################################################################
# Классы
#################################################################

:Город a owl:Class ; rdfs:label "Город"@ru .
:Переезд a owl:Class ; rdfs:label "Переезд"@ru .
:Задача a owl:Class ; rdfs:label "Задача"@ru .
:ПредметИмущества a owl:Class ; rdfs:label "Предмет имущества"@ru .
:Услуга a owl:Class ; rdfs:label "Услуга"@ru .

#################################################################
# Object properties
#################################################################

:точкаОтправления a owl:ObjectProperty ;
  rdfs:label "точка отправления"@ru ;
  rdfs:domain :Переезд ;
  rdfs:range :Город .

:точкаНазначения a owl:ObjectProperty ;
  rdfs:label "точка назначения"@ru ;
  rdfs:domain :Переезд ;
  rdfs:range :Город .

:учитываетПредмет a owl:ObjectProperty ;
  rdfs:label "учитывает предмет"@ru ;
  rdfs:domain :Переезд ;
  rdfs:range :ПредметИмущества .

:используетУслугу a owl:ObjectProperty ;
  rdfs:label "использует услугу"@ru ;
  rdfs:domain :Переезд ;
  rdfs:range :Услуга .

:рекомендуемаяЗадача a owl:ObjectProperty ;
  rdfs:label "рекомендуемая задача"@ru ;
  rdfs:domain :Переезд ;
  rdfs:range :Задача .

:зависитОт a owl:ObjectProperty, owl:TransitiveProperty ;
  rdfs:label "зависит от"@ru ;
  rdfs:domain :Задача ;
  rdfs:range :Задача .

#################################################################
# Datatype properties
#################################################################

# Город
:кодГорода a owl:DatatypeProperty ;
  rdfs:label "код города"@ru ;
  rdfs:domain :Город ;
  rdfs:range xsd:string .

:странаКод a owl:DatatypeProperty ;
  rdfs:label "код страны"@ru ;
  rdfs:domain :Город ;
  rdfs:range xsd:string .

# Переезд (ввод пользователя и расчёты)
:типПереезда a owl:DatatypeProperty ;
  rdfs:label "тип переезда"@ru ;
  rdfs:domain :Переезд ;
  rdfs:range xsd:string .

:желаемыйБюджет a owl:DatatypeProperty ;
  rdfs:label "желаемый бюджет"@ru ;
  rdfs:domain :Переезд ;
  rdfs:range xsd:decimal .

:количествоПредметов a owl:DatatypeProperty ;
  rdfs:label "количество предметов"@ru ;
  rdfs:domain :Переезд ;
  rdfs:range xsd:integer .

:количествоХрупких a owl:DatatypeProperty ;
  rdfs:label "количество хрупких"@ru ;
  rdfs:domain :Переезд ;
  rdfs:range xsd:integer .

:оценочнаяСтоимостьПереезда a owl:DatatypeProperty ;
  rdfs:label "оценочная стоимость переезда"@ru ;
  rdfs:domain :Переезд ;
  rdfs:range xsd:decimal .

:рекомендуемыйБюджет a owl:DatatypeProperty ;
  rdfs:label "рекомендуемый бюджет"@ru ;
  rdfs:domain :Переезд ;
  rdfs:range xsd:decimal .

:естьРабота a owl:DatatypeProperty ;
  rdfs:label "есть работа"@ru ;
  rdfs:domain :Переезд ;
  rdfs:range xsd:boolean .

:требуетсяРазрешениеНаРаботу a owl:DatatypeProperty ;
  rdfs:label "требуется разрешение на работу"@ru ;
  rdfs:domain :Переезд ;
  rdfs:range xsd:boolean .

:работодательПокрываетПереезд a owl:DatatypeProperty ;
  rdfs:label "работодатель покрывает переезд"@ru ;
  rdfs:domain :Переезд ;
  rdfs:range xsd:boolean .

# Предмет имущества
:названиеПредмета a owl:DatatypeProperty ;
  rdfs:label "название предмета"@ru ;
  rdfs:domain :ПредметИмущества ;
  rdfs:range xsd:string .

:объемЛитры a owl:DatatypeProperty ;
  rdfs:label "объём (литры)"@ru ;
  rdfs:domain :ПредметИмущества ;
  rdfs:range xsd:decimal .

:хрупкий a owl:DatatypeProperty ;
  rdfs:label "хрупкий"@ru ;
  rdfs:domain :ПредметИмущества ;
  rdfs:range xsd:boolean .

# Услуга
:названиеУслуги a owl:DatatypeProperty ;
  rdfs:label "название услуги"@ru ;
  rdfs:domain :Услуга ;
  rdfs:range xsd:string .

:базоваяЦена a owl:DatatypeProperty ;
  rdfs:label "базовая цена"@ru ;
  rdfs:domain :Услуга ;
  rdfs:range xsd:decimal .

:ценаЗаПредмет a owl:DatatypeProperty ;
  rdfs:label "цена за предмет"@ru ;
  rdfs:domain :Услуга ;
  rdfs:range xsd:decimal .

:коэффициентДляМеждународного a owl:DatatypeProperty ;
  rdfs:label "коэффициент для международного"@ru ;
  rdfs:domain :Услуга ;
  rdfs:range xsd:decimal .

:применимоКТипуУслуги a owl:DatatypeProperty ;
  rdfs:label "применимо к типу (услуги)"@ru ;
  rdfs:domain :Услуга ;
  rdfs:range xsd:string .

:условиеУслуги a owl:DatatypeProperty ;
  rdfs:label "условие услуги"@ru ;
  rdfs:domain :Услуга ;
  rdfs:range xsd:string .

# Задача (усиление по датам)
:описаниеЗадачи a owl:DatatypeProperty ;
  rdfs:label "описание задачи"@ru ;
  rdfs:domain :Задача ;
  rdfs:range xsd:string .

:применимоКТипу a owl:DatatypeProperty ;
  rdfs:label "применимо к типу"@ru ;
  rdfs:domain :Задача ;
  rdfs:range xsd:string .

:условиеЗадачи a owl:DatatypeProperty ;
  rdfs:label "условие задачи"@ru ;
  rdfs:domain :Задача ;
  rdfs:range xsd:string .

:днейБаза a owl:DatatypeProperty ;
  rdfs:label "дней (база)"@ru ;
  rdfs:domain :Задача ;
  rdfs:range xsd:integer .

:днейНаПредмет a owl:DatatypeProperty ;
  rdfs:label "дней на предмет"@ru ;
  rdfs:domain :Задача ;
  rdfs:range xsd:decimal .

:днейНаХрупкий a owl:DatatypeProperty ;
  rdfs:label "дней на хрупкий"@ru ;
  rdfs:domain :Задача ;
  rdfs:range xsd:decimal .

:днейЕслиМеждународный a owl:DatatypeProperty ;
  rdfs:label "дней если международный"@ru ;
  rdfs:domain :Задача ;
  rdfs:range xsd:integer .

#################################################################
# Individuals — у каждого есть свойства
#################################################################

:Город_Краснодар a :Город ;
  rdfs:label "Краснодар"@ru ;
  :кодГорода "KRR"^^xsd:string ;
  :странаКод "RU"^^xsd:string .

:Город_Москва a :Город ;
  rdfs:label "Москва"@ru ;
  :кодГорода "MOW"^^xsd:string ;
  :странаКод "RU"^^xsd:string .

:Город_СанктПетербург a :Город ;
  rdfs:label "Санкт-Петербург"@ru ;
  :кодГорода "LED"^^xsd:string ;
  :странаКод "RU"^^xsd:string .

:Город_Берлин a :Город ;
  rdfs:label "Берлин"@ru ;
  :кодГорода "BER"^^xsd:string ;
  :странаКод "DE"^^xsd:string .

:Услуга_Перевозка a :Услуга ;
  rdfs:label "Перевозка"@ru ;
  :названиеУслуги "Перевозка"^^xsd:string ;
  :базоваяЦена "12000.00"^^xsd:decimal ;
  :ценаЗаПредмет "650.00"^^xsd:decimal ;
  :коэффициентДляМеждународного "2.00"^^xsd:decimal ;
  :применимоКТипуУслуги "ANY"^^xsd:string ;
  :условиеУслуги "ANY"^^xsd:string .

:Услуга_Упаковка a :Услуга ;
  rdfs:label "Упаковка"@ru ;
  :названиеУслуги "Упаковка"^^xsd:string ;
  :базоваяЦена "2500.00"^^xsd:decimal ;
  :ценаЗаПредмет "140.00"^^xsd:decimal ;
  :коэффициентДляМеждународного "1.15"^^xsd:decimal ;
  :применимоКТипуУслуги "ANY"^^xsd:string ;
  :условиеУслуги "ANY"^^xsd:string .

:Услуга_Документы a :Услуга ;
  rdfs:label "Документы/переводы"@ru ;
  :названиеУслуги "Документы/переводы"^^xsd:string ;
  :базоваяЦена "9000.00"^^xsd:decimal ;
  :ценаЗаПредмет "0.00"^^xsd:decimal ;
  :коэффициентДляМеждународного "1.30"^^xsd:decimal ;
  :применимоКТипуУслуги "INTERNATIONAL"^^xsd:string ;
  :условиеУслуги "Международный"^^xsd:string .

:Задача_СоставитьСписокВещей a :Задача ;
  rdfs:label "Составить список вещей"@ru ;
  :описаниеЗадачи "Добавить все предметы (переменное количество) для расчёта стоимости и плана."^^xsd:string ;
  :применимоКТипу "ANY"^^xsd:string ;
  :условиеЗадачи "ANY"^^xsd:string ;
  :днейБаза 1 ;
  :днейНаПредмет "0.05"^^xsd:decimal ;
  :днейНаХрупкий "0.00"^^xsd:decimal ;
  :днейЕслиМеждународный 0 .

:Задача_КупитьУпаковку a :Задача ;
  rdfs:label "Купить упаковку"@ru ;
  :описаниеЗадачи "Купить коробки/плёнку/скотч пропорционально количеству предметов."^^xsd:string ;
  :применимоКТипу "ANY"^^xsd:string ;
  :условиеЗадачи "ANY"^^xsd:string ;
  :днейБаза 1 ;
  :днейНаПредмет "0.02"^^xsd:decimal ;
  :днейНаХрупкий "0.00"^^xsd:decimal ;
  :днейЕслиМеждународный 0 ;
  :зависитОт :Задача_СоставитьСписокВещей .

:Задача_УпаковатьВсе a :Задача ;
  rdfs:label "Упаковать вещи"@ru ;
  :описаниеЗадачи "Упаковать все вещи. Время растёт от количества предметов."^^xsd:string ;
  :применимоКТипу "ANY"^^xsd:string ;
  :условиеЗадачи "ANY"^^xsd:string ;
  :днейБаза 2 ;
  :днейНаПредмет "0.08"^^xsd:decimal ;
  :днейНаХрупкий "0.00"^^xsd:decimal ;
  :днейЕслиМеждународный 0 ;
  :зависитОт :Задача_КупитьУпаковку .

:Задача_УпаковатьХрупкое a :Задача ;
  rdfs:label "Упаковать хрупкое"@ru ;
  :описаниеЗадачи "Упаковать хрупкие предметы с усиленной защитой (добавляет время на каждый хрупкий)."^^xsd:string ;
  :применимоКТипу "ANY"^^xsd:string ;
  :условиеЗадачи "ХрупкоеЕсть"^^xsd:string ;
  :днейБаза 1 ;
  :днейНаПредмет "0.00"^^xsd:decimal ;
  :днейНаХрупкий "0.30"^^xsd:decimal ;
  :днейЕслиМеждународный 0 ;
  :зависитОт :Задача_КупитьУпаковку .

:Задача_ЗаказатьПеревозку a :Задача ;
  rdfs:label "Заказать перевозку"@ru ;
  :описаниеЗадачи "Выбрать услугу перевозки и забронировать дату."^^xsd:string ;
  :применимоКТипу "ANY"^^xsd:string ;
  :условиеЗадачи "ANY"^^xsd:string ;
  :днейБаза 1 ;
  :днейНаПредмет "0.00"^^xsd:decimal ;
  :днейНаХрупкий "0.00"^^xsd:decimal ;
  :днейЕслиМеждународный 1 ;
  :зависитОт :Задача_СоставитьСписокВещей .

:Задача_ПроверитьВизуИДокументы a :Задача ;
  rdfs:label "Проверить требования для визы/ВНЖ и документов"@ru ;
  :описаниеЗадачи "Собрать требования (виза/ВНЖ/переводы/копии), назначить подачу."^^xsd:string ;
  :применимоКТипу "INTERNATIONAL"^^xsd:string ;
  :условиеЗадачи "Международный"^^xsd:string ;
  :днейБаза 0 ;
  :днейНаПредмет "0.00"^^xsd:decimal ;
  :днейНаХрупкий "0.00"^^xsd:decimal ;
  :днейЕслиМеждународный 21 ;
  :зависитОт :Задача_СоставитьСписокВещей .

:Задача_РазрешениеНаРаботу a :Задача ;
  rdfs:label "Разрешение на работу"@ru ;
  :описаниеЗадачи "Если есть работа и требуется разрешение: подача/ожидание/получение."^^xsd:string ;
  :применимоКТипу "INTERNATIONAL"^^xsd:string ;
  :условиеЗадачи "НужноРазрешение"^^xsd:string ;
  :днейБаза 0 ;
  :днейНаПредмет "0.00"^^xsd:decimal ;
  :днейНаХрупкий "0.00"^^xsd:decimal ;
  :днейЕслиМеждународный 14 ;
  :зависитОт :Задача_ПроверитьВизуИДокументы .

:Предмет_Пример_Ноутбук a :ПредметИмущества ;
  rdfs:label "Пример: ноутбук"@ru ;
  :названиеПредмета "Ноутбук"^^xsd:string ;
  :объемЛитры "4.0"^^xsd:decimal ;
  :хрупкий true .

:Предмет_Пример_КоробкаОдежды a :ПредметИмущества ;
  rdfs:label "Пример: коробка одежды"@ru ;
  :названиеПредмета "Коробка одежды"^^xsd:string ;
  :объемЛитры "35.0"^^xsd:decimal ;
  :хрупкий false .

:Переезд_Пример a :Переезд ;
  rdfs:label "Пример переезда: Краснодар → Москва"@ru ;
  :точкаОтправления :Город_Краснодар ;
  :точкаНазначения :Город_Москва ;
  :типПереезда "DOMESTIC_RU"^^xsd:string ;
  :желаемыйБюджет "80000.00"^^xsd:decimal ;
  :естьРабота false ;
  :требуетсяРазрешениеНаРаботу false ;
  :работодательПокрываетПереезд false ;
  :учитываетПредмет :Предмет_Пример_Ноутбук, :Предмет_Пример_КоробкаОдежды ;
  :количествоПредметов 2 ;
  :количествоХрупких 1 ;
  :используетУслугу :Услуга_Перевозка, :Услуга_Упаковка ;
  :рекомендуемаяЗадача :Задача_СоставитьСписокВещей, :Задача_КупитьУпаковку, :Задача_УпаковатьВсе, :Задача_УпаковатьХрупкое, :Задача_ЗаказатьПеревозку ;
  :оценочнаяСтоимостьПереезда "15930.00"^^xsd:decimal ;
  :рекомендуемыйБюджет "18319.50"^^xsd:decimal .
